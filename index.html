<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TXTè½¬EPUBå·¥å…·ï¼ˆç»ˆæä¼˜åŒ–ç‰ˆï¼‰</title>
  <!-- æœ¬åœ°Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- è‡ªå®šä¹‰æ ·å¼ -->
  <style>
    .card { max-width: 800px; margin: 0 auto; }
    .form-control:disabled { background-color: #f8f9fa; }
    .text-center { text-align: center; }
    .mb-5 { margin-bottom: 3rem !important; }
    .mb-3 { margin-bottom: 1rem !important; }
    .mt-2 { margin-top: 0.5rem !important; }
    .mt-3 { margin-top: 1rem !important; }
    .w-100 { width: 100% !important; }
    .shadow-sm { box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075) !important; }
    .progress { margin: 1rem 0; height: 8px; }
    .debug-info { 
      display: none; 
      font-family: monospace; 
      font-size: 12px; 
      background: #f8f9fa; 
      padding: 10px; 
      border-radius: 5px; 
      margin-top: 10px; 
      max-height: 200px; 
      overflow-y: auto; 
    }
  </style>
</head>
<body class="container mt-5">
  <h1 class="text-center mb-5">ğŸ“š TXTè½¬EPUBå·¥å…·ï¼ˆç»ˆæä¼˜åŒ–ç‰ˆï¼‰</h1>
  
  <div class="card p-4 shadow-sm">
    <!-- æ“ä½œæŒ‡å— -->
    <div class="alert alert-info mb-4">
      <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong>å¦‚æœç« èŠ‚è¯†åˆ«å¤±è´¥ï¼Œè¯·å…ˆåœ¨ä¸‹æ–¹"è°ƒè¯•æ¨¡å¼"ä¸­æŸ¥çœ‹æ–‡æœ¬å†…å®¹
    </div>
    
    <!-- å…ƒæ•°æ®åŒºåŸŸ -->
    <div class="mb-3">
      <label class="form-label">ä¹¦åï¼ˆå¿…å¡«ï¼‰</label>
      <input type="text" id="bookTitle" class="form-control" placeholder="è¾“å…¥ä¹¦ç±åç§°">
    </div>
    <div class="mb-3">
      <label class="form-label">ä½œè€…ï¼ˆå¿…å¡«ï¼‰</label>
      <input type="text" id="bookAuthor" class="form-control" placeholder="è¾“å…¥ä½œè€…å§“å">
    </div>
    <div class="mb-3">
      <label class="form-label">å°é¢å›¾ï¼ˆå¯é€‰ï¼Œå»ºè®®JPGæ ¼å¼ï¼‰</label>
      <input type="file" id="coverImg" class="form-control" accept="image/jpg,image/jpeg,image/png">
    </div>
    
    <!-- TXTä¸Šä¼ åŒºåŸŸ -->
    <div class="mb-3">
      <label class="form-label">ä¸Šä¼ TXTæ–‡ä»¶ï¼ˆå¿…å¡«ï¼‰</label>
      <input type="file" id="txtFile" class="form-control" accept=".txt" required>
      <div class="form-text">æ”¯æŒè¶…å¤§æ–‡ä»¶ï¼Œè‡ªåŠ¨å¤„ç†ç¼–ç é—®é¢˜</div>
    </div>
    
    <!-- ç« èŠ‚è¯†åˆ«è®¾ç½® -->
    <div class="mb-3">
      <label class="form-label">ç« èŠ‚è¯†åˆ«è®¾ç½®</label>
      <div class="input-group mb-2">
        <span class="input-group-text">ä¸»è¦ç« èŠ‚</span>
        <input type="text" id="chapterPrefix1" class="form-control" value="ç¬¬" placeholder="å‰ç¼€ï¼ˆå¦‚"ç¬¬"ï¼‰">
        <input type="text" id="chapterSuffix1" class="form-control" value="ç« " placeholder="åç¼€ï¼ˆå¦‚"ç« "ï¼‰">
      </div>
      <div class="input-group">
        <span class="input-group-text">å…¶ä»–ç« èŠ‚</span>
        <input type="text" id="chapterPrefix2" class="form-control" value="ç•ªå¤–" placeholder="å‰ç¼€ï¼ˆå¦‚"ç•ªå¤–"ï¼‰">
        <input type="text" id="chapterSuffix2" class="form-control" value="" placeholder="åç¼€ï¼ˆæ— åˆ™ç•™ç©ºï¼‰">
      </div>
      <div class="form-text mt-2">
        <strong>è‡ªåŠ¨æ£€æµ‹ï¼š</strong>å¦‚æœè®¾ç½®æ— æ•ˆï¼Œç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹å¸¸è§ç« èŠ‚æ ¼å¼
      </div>
    </div>
    
    <!-- è°ƒè¯•é€‰é¡¹ -->
    <div class="mb-3">
      <button type="button" id="toggleDebug" class="btn btn-outline-secondary btn-sm">
        æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
      </button>
      <div id="debugInfo" class="debug-info"></div>
    </div>
    
    <!-- è¿›åº¦æ¡ -->
    <div class="progress" style="display: none;">
      <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%" id="progressBar"></div>
    </div>
    
    <!-- ç”Ÿæˆä¸ä¸‹è½½æŒ‰é’® -->
    <button id="generateBtn" class="btn btn-primary w-100">ç”ŸæˆEPUB</button>
    <a id="downloadLink" class="btn btn-success w-100 mt-3" style="display: none;">ç‚¹å‡»ä¸‹è½½EPUBæ–‡ä»¶</a>
  </div>

  <!-- æœ¬åœ°ä¾èµ– -->
  <script src="js/jszip.min.js"></script>
  
  <!-- æ ¸å¿ƒé€»è¾‘ -->
  <script src="app.js"></script>
</body>
</html>